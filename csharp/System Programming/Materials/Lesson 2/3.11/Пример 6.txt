using System;
using System.Threading;

class Program
{
    static Timer timer;

    static void Main(string[] args)
    {
        // Инициализация таймера, который будет вызывать метод PrintCurrentTime каждые 5000 мс (5 секунд)
        timer = new Timer(PrintCurrentTime, null, 0, 5000);

        Console.WriteLine("Таймер запущен. Нажмите Enter для выхода.");
        Console.ReadLine();

        // Остановка таймера перед выходом
        timer.Dispose();
        Console.WriteLine("Таймер остановлен. Программа завершена.");
    }

    // Метод обратного вызова, который будет выполняться таймером
    static void PrintCurrentTime(object state)
    {
        Console.WriteLine($"Текущее время: {DateTime.Now}");
    }
}



Объяснение кода:
Импортирование пространства имен: Мы используем пространство имен System для доступа к базовым классам и System.Threading для работы с таймерами.

Объявление статического поля таймера: Мы объявляем Timer timer; как статическое поле, чтобы его можно было использовать в методах класса.

Инициализация таймера:

Таймер создается с начальной задержкой 0 (вызов сразу) и интервалом 5000 миллисекунд (5 секунд).
Метод PrintCurrentTime передается в качестве обратного вызова, который будет выполнен по истечении интервала.
Ожидание ввода пользователя: Программа выводит сообщение о запуске таймера и ждет, пока пользователь нажмет клавишу Enter.

Остановка таймера: При нажатии Enter таймер останавливается с помощью timer.Dispose(), освобождая ресурсы.

Метод обратного вызова: PrintCurrentTime выводит текущее время в консоль, используя DateTime.Now.